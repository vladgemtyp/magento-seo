# Advanced SEO Module
Advanced SEO module for fine-tune

## SEO Правила
Налаштування правил доступне в адміністративної панелі **Seo** - **Meta Tags**.

## Заповнення форми
Для заповнення доступні поля:

**Type** - тип сутності для якої налаштовується правило (Category, Product).

**Meta Title, Meta Description, Meta Keywords** - динамічні мета теги.

**Content H1** - текст для тегу H1.

**Content Description** - текс для опису.

**Attributes** - атрибути по яких буде вибиратись потрібне правило. Для кетегорій обов'язковим я наявність **category**.
 Можлива комбінація різних атрибутів розділяючи їх комою. Наприклад, **category,manufacturer** застосується 
 лшше коли буде вибраний фільтр бренд.
 
**Attribute options** - дозволяє конкретизувати правила для атрибуту, наприклад бренду.
 В даному полі спочатку прописується `category`, далі через кому додається атрибут який необхідно конкретизувати.
 
 Приклад використання: `category;manufacturer:399`. Код для атрибуту можна взяи у *Attributes - Manage Attributes* (https://www.screencast.com/t/wPi7dQBIX).


## Налаштування мета-тегів і дотичних елементів.
Модуль дозволяє налаштовувати SEO елементи за конкретною умовою в одному місці.
Для налаштування правил можна використовувати псевдо змінні, які дають змогу підставляти динамічні значення у теги.

Псевдо змінні описуються за шаблоном `%variable%`, що дасть змогу дістати значення конкретної змінної підставити у правило.

Базовий набір змінних для *продуктів* та *категорій*:
- **%store%** - назва магазину;
- **%storeCode%** - код магазину;
- **%website%** - назва веб сайту;
- **%websiteCode%** - код веб сайту;

Для *категорій* окремо доступні:
- **%category%** - нащва поточної вибрана категорія;
- **%categories%** - повний шлях до вибраної категорії;
- **%*filter_code*%** - назва будь якого вибраного фільтру, наприклад **%color%** поверне назву вибраного кольору;

Для *продуктів* окремо доступні:
- всі атрибути за кодовими назвами, наприклад **%manufacturer%**, **%color%**, **%name%** і т.д.

### Префільтри
Для додаткової обробки псевдозмінних можна використовувати фільтри. В якості фільтрів, доступні всі функції PHP 
(до функції передається лише один аргумент).

Для більшої зручності було створено декілька додаткових префільтри:
- **translate** - дозволяє робити переклад псевдозмінних базуючись на перекладах самої Magento;

#### Формат використання префільтрів
`{%variable%}:strtolower|ucfirst`

Псевдозмінну потрібно заключити у "{}" фігурні дужки, додати ":" дві крапки і накласти потрібні фільтри.

Фігурні дужки також дозволяють групувати псевдозмінні і накладати потрібні фільтри. 
Наприклад, `{%variable% %variable2%}:strtolower|ucfirst`

## Приклад використання

### Приклад Правила
Повне правило для Meta Title може мати наступний вигляд

> Купити %category% {%manufacturer%}:strtolower|ucfirst | ✔ Знижки ✔ Доставка по світу 1&#818;0&#818;0&#818;% Наявність і Недорого | Інтернет магазин SupperBoo №1

### Приклад прив'язки до конкретної категорії та бренду
Наприклд, у ситуації коли потрібно налаштувати окремі тексти для категорії "Протеїн" і бренду "Biotech", необхідно виконати
наступні кроки.

1. У поле `Attributes` прописуться узагальний набір атрибутів до якого буде застосовуватись поточне правило, у вигляді `
category;manufacturer`, де *category* - ключево слово яке відноситься до категорії, *manufacturer* - код атрибуту бренду.
2. У поле `Attribute options` прописується кокретизована форма по якій виконується прив'язка, у вигляді `category:137;manufacturer:25`,
де *category:137* відповідає ID категорії (https://www.screencast.com/t/esSLqykWB6g), і *manufacturer:25* відповідає 
опції бренду до якого виконується прив'язка (https://www.screencast.com/t/ntl5tguVx).
  
 
 
